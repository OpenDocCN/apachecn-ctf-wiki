<!--yml
category: 未分类
date: 2022-04-26 14:49:17
-->

# CTF从入门到提升（四）基于时间盲注例题及解法_anquanniu牛油果的博客-CSDN博客_ctf 时间盲注

> 来源：[https://blog.csdn.net/anquanniu/article/details/99941796](https://blog.csdn.net/anquanniu/article/details/99941796)

基于时间的盲注，本次内容会涉及到写一些脚本。
​​这里我先简单的示范，有两个网址推荐给大家，

![在这里插入图片描述](img/f6904fe92559eacc00b3e7da9e64a1eb.png)

看一下到底能不能影响到这个数据，这里用一个插件。

![在这里插入图片描述](img/d8b735d8c5f9933a8030da2c19bf21af.png)

​

这个插件更新之前还挺好用的，更新之后就不太好用了。这里添加三个参数。

第一个，添加字段头用哪一个网址，这里添加了Headername，添加字段的名称X-Forwarded-For，然后到页面开启。

我们会发现它可以成功去修改它回写的内容，这个数据段是可控的，用字段去做一个注入，它就变成了一道注入题。

（在这里我做一个演示，如果大家想看可以到安全牛课堂的视频里看动手操作 CTF从入门到提升 课时4：4分16秒）

![在这里插入图片描述](img/5b13799ae14125190717d1cbaac4cf17.png)
![在这里插入图片描述](img/0b1b9df22aaf82d0a4a7c16f5da3bdff.png)
![在这里插入图片描述](img/e1c6da097962e3126570c745c2a372f2.png)
![在这里插入图片描述](img/ea4f7d236b207117f9446c61e35974c5.png)

所以有的时候你也肯定是可以的，如果可以做事的话，向着相对会麻烦一些。我们就要考虑到如有没有说不用注释的方式去它做一个注入。而且我们这个时候你会发现，其实因为之前不回选题到了吗？我们这个时候必然考虑的是使用一个基于时间的一个盲注来做一个注入的，那么就是如何实现的问题了。如何来实现呢？

我们希望SLEEP引用的是一个计算过程。我们可以看一下看，到底是不是？

（在这里我做一个演示，如果大家想看可以到安全牛课堂的视频里看动手操作 CTF从入门到提升 课时4：10分39秒）
![在这里插入图片描述](img/f510037bcf442b2d90da2e77be016bf5.png)
​
入的是数据。

在实际环境中’闭合是什么样呢？看一下操作

（在这里我做一个演示，如果大家想看可以到安全牛课堂的视频里看动手操作 CTF从入门到提升 课时4：12分34）

![在这里插入图片描述](img/156e81f7ffcb6ac777df0dc965845dd8.png)

![在这里插入图片描述](img/fb0e45768ae8edcac9453095338e8594.png)

逗号来自于if条件，除了if以外还有另一种方法。就是使用CASE WHEN这种形式去做一个触发。

![在这里插入图片描述](img/a0319f7a7d11ca60e23a537fb169725e.png)
用select case的方式。

（在这里我做一个演示，如果大家想看可以到安全牛课堂的视频里看动手操作 CTF从入门到提升 课时4：19分21秒）

如果是写脚本怎么写呢，

（在这里我做一个演示，如果大家想看可以到安全牛课堂的视频里看动手操作 CTF从入门到提升 课时4：22分38秒）

![在这里插入图片描述](img/47c90613ace20ac2a830d0a62cb9fb4f.png)

​

![在这里插入图片描述](img/3517fc330a86bc285146204de91d357a.png)

我们做循环的时候，先从数据库中读出的数据段的长度来考虑。一般不会太长。这是第外层循环，然后是内层循环，内存循环就是类似于阿斯科码值。

![在这里插入图片描述](img/eabaaee4ce3207e38650228eace77747.png)

类似于字典，比如说dic定义一个变量，

（在这里我做一个演示，如果大家想看可以到安全牛课堂的视频里看动手操作 CTF从入门到提升 课时4：27分39秒）

![在这里插入图片描述](img/18c9f2714e3880c1afec811622cc9e45.png)
![在这里插入图片描述](img/37d93437111c56185a00f3b95958671d.png)

![在这里插入图片描述](img/7118dc2022310f52fb0d27fa910a63d3.png)

![在这里插入图片描述](img/50957337ffd855fb06ce1354c11345cd.png)
![在这里插入图片描述](img/1b74769fb2239f133202bc03338c6bdd.png)
![在这里插入图片描述](img/55318dc321abbb20dffeee15a9beadfe.png)

其实这种写脚本总体思路还是比较简单，很多时候要注意一下一些细节。多试一试，其实就会好一些。

以上动手演示可见：安全牛课堂《[CTF从入门到提升](https://www.aqniukt.com/my/course/8954%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B%E2%80%8B?from=csdn)》

课程地址：https://www.aqniukt.com/my/course/8954​​​​​​​​